<?xml version="1.0"?>
<document>
  <properties>
    <title>Changes</title>
    <author email="sdanig@users.sourceforge.net">Daniel Gredler</author>
  </properties>
  <body>
    <release version="0.9.7" date="TODO, 2011" description="Long-overdue release with lots of bugfixes.">
        <action type="fix" dev="rbri">
            Some more fixes for sanity checks done in CSSStyleSheet.insertRule.
        </action>
        <action type="fix" dev="rbri">
            Improved message output in class DOMExceptionImpl.
        </action>
        <action type="fix" dev="rbri">
            CSSStyleSheet.deleteRule now throws a DOMException if the given index is out of bounds
            (instead of an IndexOutOfBoundsException).
        </action>
        <action type="fix" dev="rbri">
            CSSStyleSheet.insertRule now takes care of incorrect rules. If the rule (to be added) parsing
            failes, insertRule now throws an exception (instead of adding a null as rule).
        </action>
    </release>
    <release version="0.9.6" date="Oct 25, 2011" description="Long-overdue release with lots of bugfixes.">
        <action type="fix">
            CSS 2.1 parser now ignores any '@import' rule that occurs inside a block
            (see http://www.w3.org/TR/CSS2/syndata.html#at-rules). JUnit tests added.
        </action>
        <action type="fix" issue="3198584">
            Parser hang with missing semicolon fixed.
        </action>
        <action type="fix" issue="1946431">
            Method com.steadystate.css.parser.LexicalUnitImpl.createAttr(LexicalUnit, LexicalUnit) removed.
            The impl was broken. You can use the method
            com.steadystate.css.parser.LexicalUnitImpl.createAttr(LexicalUnit, String) instead.
        </action>
        <action type="fix">
            Improved error handling for methods parseStyleDeclaration, parseRule,
            parseSelectors, parsePropertyValue, parsePriority and parseMedia in
            class AbstractSACParser. All CSSParseException are now catched and
            processed by the error handler.
        </action>
        <action type="fix">
            Class TestCSSParseException removed.
        </action>
        <action type="fix" issue="2891851">
            Another unescaping problem fixed.
        </action>
        <action type="update">
            Class CSOMParser now takes care of the system property 'org.w3c.css.sac.parser'.
            The effect is, that the class uses the same parser as long as this property is unchanged.
            You can change the property from the outside (System.setProperty()) or by calling
            the CSOMParser(Parser) constructor.
        </action>
        <action type="update">
            Default parser changed from CSS2 to CSS21.
        </action>
        <action type="fix" issue="2796824">
            Always check for EOF if skipping something.
        </action>
        <action type="fix" issue="1659992">
            Improved error handling for incorrect rules.
        </action>
        <action type="fix" issue="2123264">
            Ignore leading and trailing whitespace in method com.steadystate.css.dom.CSSStyleSheetImpl.insertRule(String, int).
        </action>
        <action type="add">
            Many more JUnit tests added.
        </action>
        <action type="add">
            Locatable and friends added.
        </action>
        <action type="add">
            Many equals and hashCode implementations added.
        </action>
        <action type="fix" issue="3293695">
            String parser was too greedy.
        </action>
        <action type="fix" issue="1931563">
            Wrong processing of some chars.
        </action>
        <action type="update">
            Major updates on the grammars.
        </action>
        <action type="update" issue="3293695">
            JavaCC (and the maven plugin) updated.
        </action>
    </release>
    <release version="0.9.5" date="?" description="Long-overdue release with lots of bugfixes.">
      <action type="remove">
        Removed the deprecated classes com.steadystate.css.CSS2Parser, com.steadystate.css.RGBColorImpl
        and com.steadystate.css.HexColor.
      </action>
      <action type="fix" issue="1226128">
        Correctly unescape escaped characters in strings.
      </action>
      <action type="fix" issue="1874800">
        CSSStyleDeclarationImpl.getCssText() fixed to not return curly braces (as per the spec).
      </action>
      <action type="remove" issue="1337730">
        Removed unused class ParseException (one of two classes with this name).
      </action>
      <action type="update">
        Updated the minimum required Java version to Java 5.
      </action>
      <action type="remove">
        Removed the W3C DOM and SAC classes, using instead the classes in the JDK and the official SAC JAR.
      </action>
      <action type="update">
        Moved build system to Maven 2.
      </action>
      <action type="add">
        Added parseMedia() to SACParser.
      </action>
      <action type="update">
        Modified CSSOMParser to allow parser creation within the sandbox.
      </action>
      <action type="remove">
        JavaCC-generated files removed from the repository.
      </action>
      <action type="update">
        css2.jj renamed to SACParser.jj.
      </action>
      <action type="add">
        Initial JUnit tests added.
      </action>
    </release>
    <release version="0.9.4" date="?">
      <action type="add">
        Ant buildfile added.
      </action>
    </release>
    <release version="0.9.3" date="?">
      <action type="fix">
        Fixed a bug in the '@page' rule where a space after an identifier or a pseudo page caused a parser exception.
      </action>
    </release>
    <release version="0.9.2" date="?">
      <action type="update">
        Made several modifications to provide JDK 1.1 compatability.
      </action>
      <action type="fix">
        Fixed a bug that caused negative floating-point values to be excessively trimmed.
      </action>
    </release>
    <release version="0.9.1" date="?">
      <action type="update">
        Updated the SAC to version 1.2.
      </action>
      <action type="update">
        Updated the CSSOM to comply with the W3C recommendation.
      </action>
      <action type="update">
        Made the CSSOM serializable.
      </action>
    </release>
    <release version="0.9.0" date="?">
      <action type="update">
        Implemented the SAC (Simple API for CSS).
      </action>
      <action type="update">
        Converted the CSS DOM to be implemented on top of the SAC.
      </action>
    </release>
    <release version="0.1.4" date="?">
      <action type="fix">
        Fixed case-sensitivity bug in ASTStyleDeclaration.
      </action>
      <action type="update">
        Renamed methods in ASTMediaList to bring it into line with CR-DOM-Level-2-20000510.
      </action>
      <action type="update">
        Reduced the number of states in the lexer to simplify matters and to aid with improved handling of invalid statements.
      </action>
    </release>
  </body>
</document>
